<html>

<head>
    <title>Testin' - Main</title>
    <!-- scripts for codemirror -->
    <link rel=stylesheet href="codemirror-3.22/lib/codemirror.css">
    <link rel=stylesheet href="change_code.css">
    <script src="codemirror-3.22/lib/codemirror.js"></script>
    <script src="codemirror-3.22/mode/javascript/javascript.js"></script>
    <script src="codemirror-3.22/addon/edit/matchbrackets.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
</head>
<body>

    <section id="script-container">
        
        <textarea id="script"></textarea>
        <button id="change-code">
            Save
        </button>
    </section>

    <script id="sandbox">
        
    </script>



     <!-- codemirror stuff -->
    <script type="text/javascript">   
        $(document).ready(function(){    
            var editor = CodeMirror.fromTextArea(document.getElementById("script"), {
                  lineNumbers: true,
                  mode: "javascript",
                  matchBrackets: true,
                  tabMode: 'indent'
                });

            // editor.on("change", function(cm, co ){
            //     console.log(co);
            // });
            $("#change-code").click(function()
            {
                var newscript = editor.getValue();
                $("#sandbox").html(newscript);
                eval(newscript);
            });
        });
    </script>
</body>
</html>
